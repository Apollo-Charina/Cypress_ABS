(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(e,t,n){"use strict";var a,i=n(12),r=n(1);!function(e){e.PULL_FROM_SERVER="pullFromServer",e.PREFLIGHT_ON_PREMISE_API="preflightOnPremiseApi",e.LOAD_FROM_LOCAL_DISK="loadFromLocalDisk"}(a||(a={}));var s=n(25);class o{constructor(){throw new Error("cannot instantiate using a static class")}static initialize(){var e;(null===(e=null==o?void 0:o.options)||void 0===e?void 0:e.isEnabled)?r.a.log("Preflight","v"+o.version):r.a.log("Preflight","disabled"),console.log(o.apiUrl),o.state={variables:{},currentTestId:null,currentTestData:null,currentTestDataFilePath:null,testReport:[],lastGetOptions:null,autohealDataMode:o.state.autohealDataMode,autohealDataFolders:o.state.autohealDataFolders,currentPomAutohealDataId:o.state.currentPomAutohealDataId,confirmDialogResponse:!0,autohealDataCache:new s.a}}}o.ApiToken=null,o.version="3.21.0",o.isDevMode=!1,o.apiUrl=o.isDevMode?"https://apidev.preflightdev.com/v1/":"https://api.preflight.com/v1/",o.authServerUrl=o.isDevMode?"https://authdev.preflightdev.com":"https://auth.preflight.com",o.emailDomain=o.isDevMode?"test-dev.preflight.com":"test.preflight.com",o.adminEmailDomain="testadmin.preflight.com",o.localAutohealDataSuffix="-PreflightCyTest_AutohealData.json",o.localPomAutohealDataSuffix="-PreflightCyPOM_AutohealData.json",o.fixedFiles=[],o.options=i.a.defaults,o.state={variables:{},currentTestId:null,currentActionId:null,autohealDataMode:a.LOAD_FROM_LOCAL_DISK,currentPomAutohealDataId:null,currentTestData:null,currentTestDataFilePath:null,testReport:[],lastGetOptions:null,confirmDialogResponse:!0,autohealDataCache:new s.a};t.a=o},1:function(e,t,n){"use strict";var a=n(0);t.a=new class{constructor(){this.fileName="debug/PreflightCypress.log",this.logRecords=[],Cypress.on("window:before:load",()=>{this.init(cy.state("window"))})}init(e){this.win=e}get nowS(){return(new Date).toJSON()}startNew(e){this.fileName=e}cyLog(e,t,n=null,a=null){if(!a||!1!=!a.log)return Cypress.log({name:e,message:t,$el:null})}log(e,t,n=null,a=null){let i=this.cyLog(e,t,null,a);return this.logRecords.push(`${this.nowS}\t[INFO]\t${e}\t${t?" => "+t:""}`),i}warning(e,t){this.log("WARNING: "+e,t)}debug(e,t){"debug"==a.a.options.debug.mode&&(console.debug("\tPF_"+e,t||"",this.getDataString(t)),this.logRecords.push(`${this.nowS}\t[DEBUG]\t${e}\t${this.getDataString(t)}`))}cyFlushToFile(){try{if(!a.a.options.debug.fileLogEnabled)return console.debug("Flushing logs to file is disabled"),cy.wait(1,{log:!1});if(this.logRecords.length<=0)return console.debug("No logs to flush"),cy.wait(1,{log:!1});console.debug("Flushing logs to file");let e=this.logRecords.map(e=>e+"\n").join("");return console.debug("Writing to file",e.length),e=this.maskUrls(e),cy.writeFilePF(this.fileName,e,{append:!0}).then(()=>{this.logRecords=[]})}catch(e){console.debug("Failed to write to file"),console.error(e)}}getDataString(e){if(null==e)return"";try{return e.tagName?e="\n"+e.cloneNode(!0)+"\n":(null==e?void 0:e.stack)?e=JSON.stringify({message:e.message,stack:e.stack}):"object"==typeof e?e=JSON.stringify(e):"boolean"==typeof e&&(e=e.toString())," => "+e}catch(e){return e.message}}maskUrls(e){return e.replace(/((https|http|www)?:\/\/[^\s"']+)/g,e=>{if(e.includes("__cypress"))return e;let t=Math.round(.6*e.length);const n=e.length-t;return e.substring(0,t)+"x".repeat(n)})}maskString(e,t=.5){if(!e)return e;(t>1||t<=0)&&(t=.5);let n=Math.round(e.length*t);const a=e.length-n;return e.substring(0,n)+"x".repeat(a)}}},11:function(e,t,n){"use strict";var a=n(0),i=n(2),r=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};var s=new class{get authServerUrl(){return a.a.authServerUrl}getAccessToken(e){return r(this,arguments,void 0,(function*(e,t=!1){try{if(a.a.ApiToken&&!t)return a.a.ApiToken;let n=new u(this.authServerUrl),i=this.apiKeyToClientDetails(e),r={client_id:i.clientId,client_secret:i.clientSecret,grant_type:"client_credentials",scope:"tests_run"},s=Object.keys(r).map(e=>`${e}=${r[e]}`).join("&"),o=yield n.makeRequest("POST","/connect/token",s,null,"application/x-www-form-urlencoded",!1),l=JSON.parse(o);return a.a.ApiToken=l.access_token,a.a.ApiToken}catch(e){throw e.responseText="Authorization failed. Please check your Preflight API key.",e}}))}apiKeyToClientDetails(e){var t;try{let n=null===(t=Object(i.a)(e))||void 0===t?void 0:t.split(":");if(!n||n.length<2)throw new Error("ApiToken not found or has invalid format");return{clientId:n[0],clientSecret:n[1]}}catch(t){throw new Error(`ApiToken "${e}" has invalid format`)}}},o=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class l{constructor(e=""){this.baseUrl="",this.authHeaders={},this.baseUrl=e}get apiKey(){return a.a.ApiKey}makeRequest(e,t,n,a=null,i="application/json;charset=UTF-8",r=!1){let u=null;if(l.RequestFunction)return new Promise((c,d)=>o(this,void 0,void 0,(function*(){try{r&&(u=yield s.getAccessToken(this.apiKey));let o=yield l.RequestFunction(e,this.baseUrl+t,n,a,i,u),d=o.body||o.response;if("blob"==a)return void c(d);c("string"!=typeof d?JSON.stringify(d):d)}catch(e){d({status:e.status,statusText:e.statusText,responseText:e.body?e.body:JSON.stringify(e.responseText)})}})))}static xhrRequest(e,t,n,a,i,r){return new Promise((s,o)=>{let u=new XMLHttpRequest;a&&(u.responseType=a),u.open(e,t),i&&u.setRequestHeader("Content-Type",i),r&&u.setRequestHeader("Authorization","bearer "+r),u.onload=function(){this.status>=200&&this.status<300?s(u):o(l.buildRejectResponse(this.status,u))},u.onerror=function(){o(l.buildRejectResponse(this.status,u))},u.send(n)})}makeAuthRequest(e,t){return o(this,arguments,void 0,(function*(e,t,n,a=null,i="application/json;charset=UTF-8"){try{return yield this.makeRequest(e,t,n,a,i,!0)}catch(r){if(401==r.status)return yield s.getAccessToken(this.apiKey,!0),yield this.makeRequest(e,t,n,a,i,!0);throw r}}))}static buildRejectResponse(e,t){let n=null,a=null;try{n=t.responseText,a=t.statusText}catch(e){}return{status:e,statusText:a,responseText:500==e?"Connection to the Preflight server failed.":n,responseTextDetail:n}}post(e,t,n=!0){return"string"==typeof t||t instanceof String||(t=JSON.stringify(t)),n?this.makeAuthRequest("POST",e,t):this.makeRequest("POST",e,t)}get(e,t=null,n=!0){return t&&(e+="?"+Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")),n?this.makeAuthRequest("GET",e):this.makeRequest("GET",e)}getBlob(e,t=!0){return t?this.makeAuthRequest("GET",e,void 0,"blob"):this.makeRequest("GET",e,void 0,"blob")}}l.RequestFunction=l.xhrRequest;var u=t.a=l},12:function(e,t,n){"use strict";var a=n(8);class i{}i.defaults={isEnabled:!0,apiUrl:"https://localhost:5051/",waitForNetworkCalls:{isEnabled:!0,idle:2e3,timeout:6e4,checkWebSockets:!1},selectorsGeneratorOptions:new a.SelectorGeneratorOptions,debug:{mode:"debug",fileLogEnabled:!1,recordTestRun:!1,areWorkaroundsEnabled:!0,isAutohealEnabled:!0,isContextAwarenessEnabled:!0,isReplacingVariablesEnabled:!0,isHandlingModalDialogsEnabled:!0,isWritingToFilesEnabled:!0,waitForNetworkCallsSolution:2,isNetworkLogEnabled:!1},autohealDataFolders:[],fixtureDataFolders:[],showXHRLogs:!0,generateFixedTests:!0,getElementTimeout:6e4,ifExistsTimeout:3e3,allowObscuredElements:!0,waitToDisappear:{isEnabled:!0,searchElementTimeout:1e4,timeout:9e4}},t.a=i},1543:function(e,t,n){},1544:function(e,t,n){e.exports=n(49)},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),i=n(2),r=n(1),s=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class o{get doc(){return Object(a.d)()}constructor(e){this.parentSelectors=[],this.parentSelectors=e||[]}getElementsByXPath(e,t){try{let n=this.getParentElement(),a=[],i=this.doc.evaluate(e,t||n,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=0,t=i.snapshotLength;e<t;++e)a.push(i.snapshotItem(e));return a}catch(e){return[]}}getParentElement(e=this.parentSelectors,t){let n=this.doc;r.a.debug("getParentElement",{parentSelectors:e,mainSelector:t});for(let[a,i]of e.entries()){r.a.debug(`getParentElement: looking for element with selector ${i} in `,n);const s=n.querySelector(i);if(!s)return this.doc;let o=["IFRAME","FRAME"].some(e=>e===s.tagName),l=s.shadowRoot;if(o)r.a.debug("getParentElement: next child is iframe",s),n=s.contentDocument;else if(l)if(r.a.debug("getParentElement: next child has shadow root"),0===s.children.length)r.a.debug("getParentElement: next child is empty shadow root",s),n=s.shadowRoot;else{r.a.debug("getParentElement: next child has shadow root and children elements");const i=e[a+1]||t;if(!i)continue;(this.isXpathSelector(i)?this.getElementsByXPath(i,s).length>0:s.shadowRoot.querySelector(i))?(r.a.debug("getParentElement: next element is in shadow root",s),n=s.shadowRoot):(r.a.debug("getParentElement: next element is in children elements",s),n=s)}}return n}getElements(e,t=this.parentSelectors){try{let n=this.doc;return t.length>0&&(n=this.getParentElement(t,e)),this.isXpathSelector(e)?this.getElementsByXPath(e):Array.from(n.querySelectorAll(e))}catch(e){return r.a.debug("getElements exception",e.message),[]}}getFirstVisibleElement(e,t=this.parentSelectors){let n=this.getElements(e,t);return n=n.filter(e=>Object(i.i)(e)||Object(i.j)(e)),Object(i.f)(n)}findFirstVisibleParent(e,t=5){if(!e)return null;let n=e;for(let e=0;e<t;e++){if(this.isElVisible(n))return n;n=n.parentElement}return e}isElOnPage(e){return s(this,arguments,void 0,(function*(e,t=5e3,n){var a,i,s;if(yield this.searchElOnPage(e,t,n))return!0;if(!((null===(a=this.getElements(".ag-root-wrapper"))||void 0===a?void 0:a.length)>0))return!1;const o=null===(i=this.getElements(".ag-center-cols-viewport"))||void 0===i?void 0:i[0],l=null===(s=this.getElements(".ag-body-viewport"))||void 0===s?void 0:s[0];o.scrollLeft=0,l.scrollTop=0;let u=o.scrollLeft;for(r.a.log("Performing horizontal scroll in AG Grid table to find element");o.scrollWidth>u+o.clientWidth;){o.scrollLeft+=o.clientWidth;if(yield this.searchElOnPage(e,t,n))return!0;u=o.scrollLeft}o.scrollLeft=0;let c=l.scrollTop;for(r.a.log("Performing vertical scroll in AG Grid table to find element");l.scrollHeight>c+l.clientHeight;){l.scrollTop+=l.clientHeight;if(yield this.searchElOnPage(e,t,n))return!0;c=l.scrollTop}return l.scrollTop=0,!1}))}searchElOnPage(e){return s(this,arguments,void 0,(function*(e,t=5e3,n){t=Math.max(t,500);let a=Date.now()+t,s=!0;for(r.a.debug("isElOnPage",{selector:e,timeout:t});a>Date.now();){yield Object(i.p)(500);let a=this.getElements(e);if(a.length>0&&Object(i.h)(a[0],n)&&(this.isElVisible(a[0])||this.isFileInput(a[0])))return r.a.debug("isElOnPage",!0),!0;s&&t>500&&r.a.debug("log",`Searching element with main selector for ${t/1e3}s`),s=!1}return r.a.debug("isElOnPage",!1),!1}))}isElOnPageSync(e){let t=this.getElements(e);return!!(t.length>0&&(this.isElVisible(t[0])||this.isFileInput(t[0])))}isXpathSelector(e){return e&&!!e.match("^\\(*[.*]{0,1}/{1,2}")}isFileInput(e){var t;return"INPUT"===e.tagName&&"file"==(null===(t=e.getAttribute("type"))||void 0===t?void 0:t.toLowerCase())}isElVisible(e){return Object(i.i)(e)}getVisibleElement(e,t=5){let n=e.find(e=>this.isElVisible(e));return n||(n=this.findFirstVisibleParent(Object(i.f)(e),t)),n}}},19:function(e,t,n){"use strict";var a=n(10),i=n(1),r=n(3),s=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class o{get doc(){return Object(r.d)()}constructor(){this.downloadedInputs=[];let e=new a.WebPageParserConfig(5e3);e.rootElement=this.doc.body,e.document=this.doc,e.recycleParsedTokes=!0,e.parseElementsOnlyInViewport=!1,this.webParser=a.WebPageParser.BuildFromConfig(e)}findElement(e){return s(this,void 0,void 0,(function*(){i.a.debug("ContextParserSearchModule findElement START");let t=new a.ElementFinder(e.data);i.a.debug("ContextParserSearchModule parseDOM start"),this.webParser.parseDOM(!1),i.a.debug("ContextParserSearchModule parseDOM end");let n=yield t.findByPseudoSelector(this.webParser.parsedTreeRoot,e.target);i.a.debug("ContextParserSearchModule are foundElementData",!!n);let r=null;return n&&(r={element:n.primitive.HtmlElement,confidence:n.confidence,similarResultsCount:n.similarResultsCount,foundElementSimplePathJson:JSON.stringify(n.foundElementSimplePath),targetSimplePathJson:JSON.stringify(n.targetSimplePath),foundElementLocation:[this.getSimpleMessage(n.foundElementSimplePath)],targetLocation:[this.getSimpleMessage(n.targetSimplePath)]}),this.webParser.clearParserDataFromDOM(),i.a.debug("ContextParserSearchModule findElement RESULT",Object.assign(Object.assign({},r),{element:"removed"})),r}))}static getParserDataFromUrl(e){return s(this,void 0,void 0,(function*(){return yield o.uncompressParserData(e)}))}getUncompressedParserData(e){return s(this,void 0,void 0,(function*(){if(this.downloadedInputs[e])return this.downloadedInputs[e];let t=o.uncompressParserData(e);return this.downloadedInputs[e]=t,t}))}static uncompressParserData(e){return s(this,void 0,void 0,(function*(){}))}getSimplePathFromParserData(e){return s(this,void 0,void 0,(function*(){if(!e)return null;return new a.ParsedTargetTextPathGenerator(e.data).getSimplePathFromPseudoSelector(e.target)}))}getSimpleMessage(e){if(!e)return null;if(!e.target)return"No target";let t=""+e.target.type;return e.target.content&&(t+=` with text "${this.getShortString(e.target.content)}"`),e.wrapper&&(t+=" inside "+("box"==e.wrapper.type?"panel":e.wrapper.type),e.wrapper.content&&(t+=`" ${this.getShortString(e.wrapper.content)}"`)),e.top?("box"==e.top.type?t+=` on${e.top.content?"":" main "} page `:t+=` in ${e.top.type} `,e.top.content&&(t+=`"${this.getShortString(e.top.content)}"`)):t+=" on main page",t}getShortString(e,t=30){return`${e.substr(0,t)}${e.length>t?"...":""}`}}var l=n(13),u=n(2),c=n(7),d=n(16),h=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class m{constructor(e){this.doc=null,this.doc=document,this.elSelector=e}search(e){return h(this,arguments,void 0,(function*(e,t=3e3){let n=Date.now()+t,a=new d.a;for(i.a.debug("ElementSelectorsSearchModule START",{timeout:t});n>Date.now();){let t=[];if(e.mainSelectors.forEach(n=>{var a,i;let r=this.elSelector.getElements(n).filter(e=>!!e&&(Object(u.i)(e)||Object(u.j)(e)));if(r.length>0){let s=1;s/=r.length,e.expectedText&&(null===(i=null===(a=Object(u.f)(r))||void 0===a?void 0:a.inneText)||void 0===i?void 0:i.trim())!=e.expectedText&&(s-=.25),t.push(new l.a(Object(u.f)(r),c.a.SELECTORS,s,n))}}),e.possibleSelectors.forEach(n=>{var a,i,r;let s=this.elSelector.getElements(n).filter(e=>!!e&&(Object(u.i)(e)||Object(u.j)(e)));if(s.length>0){let o=.5;o/=s.length;let d=e.expectedText,h=null===(a=Object(u.f)(s))||void 0===a?void 0:a.innerText;d&&(null===(i=null==h?void 0:h.trim())||void 0===i?void 0:i.toLowerCase())!=(null===(r=null==d?void 0:d.trim())||void 0===r?void 0:r.toLowerCase())&&(o-=.25),t.push(new l.a(Object(u.f)(s),c.a.SELECTORS,o,n))}}),a=new d.a(t),i.a.debug("ElementSelectorsSearchModule RESULTS",{isReliable:a.isReliableResultFound,searchResults:a.searchResults.map(e=>Object.assign(Object.assign({},e),{element:null}))}),a.isReliableResultFound)return i.a.debug("ElementSelectorsSearchModule FINAL RESULTS",{isReliable:a.isReliableResultFound,searchResults:a.searchResults.map(e=>Object.assign(Object.assign({},e),{element:null}))}),a;yield Object(u.p)(500)}return i.a.debug("ElementSelectorsSearchModule FINAL RESULTS",{isReliable:a.isReliableResultFound,searchResults:a.searchResults.map(e=>Object.assign(Object.assign({},e),{element:null}))}),a}))}}var p=n(0),g=n(18),f=n(26),b=n(4),w=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class y{get doc(){return Object(r.d)()}constructor(e){this.lastError=null,this.elSelector=null,this.elSelector=new g.a(e||[])}getTestActionAutohealData(e,t){return w(this,arguments,void 0,(function*(e,t,n=""){var a;let i=null===(a=b.a.getTestAutohealDataFileCache(e))||void 0===a?void 0:a.data;return i?b.a.getActionAutohealDataByContextId(i,t):null}))}findTestElementByAutohealData(e,t,n,a){return w(this,void 0,void 0,(function*(){var r,s,l;if((null===(r=null===p.a||void 0===p.a?void 0:p.a.options)||void 0===r?void 0:r.isEnabled)&&(null===(l=null===(s=null===p.a||void 0===p.a?void 0:p.a.options)||void 0===s?void 0:s.debug)||void 0===l?void 0:l.isAutohealEnabled))try{if(!e||!t)return this.lastError="Autoheal was not initialized correctly for action id: "+t,null;let r=yield this.getTestActionAutohealData(e,t,n);if(!r){if(i.a.log("autoheal","Data for autoheal not found"),i.a.debug("findTestElementByAutohealData | Action not found",{testId:e,actionContextId:t}),a){let e=yield this.findElWithContentText(a);return yield this.getSearchResult(e,null)}return null}let s=a||r.expectedText,l=new f.a(r.mainSelectors,r.possibleSelectors,s),c=new m(this.elSelector),d=null;if(i.a.debug("findTestElementByAutohealData testActionData.parserData available",!!r.parserData),r.parserData)if(Object(u.l)(r.parserData))i.a.debug("findTestElementByAutohealData downloading parser data",r.parserData),yield o.getParserDataFromUrl(r.parserData);else try{i.a.debug("findTestElementByAutohealData reading parser data from JSON"),d=JSON.parse(r.parserData)}catch(e){i.a.debug("Parsing context awareness data failed",e),console.error("Parsing context awareness data failed")}let h=yield c.search(l);return h=this.getResultsWithRequiredText(h,a),h.isReliableResultFound?yield this.getSearchResult(h,d):(p.a.options.debug.isContextAwarenessEnabled?h=yield this.findElWithContextParser(d,h):i.a.log("get-autoheal","Context awareness disabled."),s&&(h=yield this.findElWithContentText(s,h)),h=this.getResultsWithRequiredText(h,a),console.debug("searchResults",h),yield this.getSearchResult(h,d))}catch(e){return i.a.debug("findTestElementByAutohealData exception",e),null}}))}findPomElementByAutohealData(e,t,n){return w(this,void 0,void 0,(function*(){var a,r,s;if((null===(a=null===p.a||void 0===p.a?void 0:p.a.options)||void 0===a?void 0:a.isEnabled)&&(null===(s=null===(r=null===p.a||void 0===p.a?void 0:p.a.options)||void 0===r?void 0:r.debug)||void 0===s?void 0:s.isAutohealEnabled))try{if(!e||!t)return this.lastError="Autoheal was not initialized correctly for "+t,null;let a=yield this.getPomElementAutohealData(e,t);if(!a){if(i.a.log("autoheal","Data for autoheal not found"),i.a.debug("findPomElementByAutohealData | Action not found",{pomAutohealDataId:e,autohealKey:t}),n){let e=yield this.findElWithContentText(n);return yield this.getSearchResult(e,null)}return null}let r=n||a.expectedText,s=a.parsedData,o=new f.a(a.selectors,[],r),l=new m(this.elSelector);i.a.debug("findTestElementByAutohealData pomAutohealDAta.parserData available",!!s);let u=yield l.search(o);return u=this.getResultsWithRequiredText(u,n),u.isReliableResultFound?yield this.getSearchResult(u,s):(p.a.options.debug.isContextAwarenessEnabled?u=yield this.findElWithContextParser(s,u):i.a.log("get-autoheal","Context awareness disabled."),r&&(u=yield this.findElWithContentText(r,u)),u=this.getResultsWithRequiredText(u,n),console.debug("searchResults",u),yield this.getSearchResult(u,s))}catch(e){return i.a.debug("findElementByAutohealData exception",e),null}}))}getResultsWithRequiredText(e,t){return t?(e.searchResults=e.searchResults.filter(e=>Object(u.h)(e.element,t)),e):e}getPomElementAutohealData(e,t){return w(this,void 0,void 0,(function*(){try{let n=b.a.getPomAutohealDataFileCache(e);if(!n)return null;let a=n.data.find(e=>e.autohealKey==t);return null==a?void 0:a.data}catch(e){return i.a.debug("getPomElementAutohealData exception",e),null}}))}findElWithContextParser(e,t){return w(this,void 0,void 0,(function*(){if(!e)return i.a.debug("findElWithContextParser","Action has no parser data"),t;let n=new o,a=yield n.findElement(e);if(!a)return t;let r=new l.a(a.element,c.a.CONTEXT_AWARENESS,2*a.confidence);return r.contextAwarenessResult=a,t.searchResults.push(r),t}))}findElWithContentText(e){return w(this,arguments,void 0,(function*(e,t=new d.a){if(i.a.debug("findElWithContentText:",{expectedText:e}),!e)return t;const n=e=>e?e.replace(/\s/g,"").toLowerCase():"";let a=n(e),r=Array.from(this.doc.querySelectorAll("*")).filter(e=>{if(!(n(e.textContent)==a))return!1;let t=Array.from(e.childNodes).find(t=>t.nodeType!=Node.TEXT_NODE&&t.textContent==e.textContent),i=e.getBoundingClientRect();return!t&&i.height>5&&i.width>5});i.a.debug(`findElWithContentText found ${r.length} results`);for(let e of r)t.searchResults.push(new l.a(e,c.a.INNER_TEXT,1/r.length));return t}))}getSearchResult(e,t){return w(this,void 0,void 0,(function*(){console.debug("PF: getSearchResult",e);let n=null==e?void 0:e.bestResult;if(!n||n.score<1)return 0;let a=null,i=null==n?void 0:n.bestSelector(this.doc);if(n.contextAwarenessResult)a=n.contextAwarenessResult.foundElementLocation;else if(t){let e=new o;a=e.getSimpleMessage(yield e.getSimplePathFromParserData(t))}let r=n.element;return r=Object(u.j)(n.element)?n.element:this.elSelector.getVisibleElement([n.element],3),{elementSimplePath:a,selector:i,element:r}}))}}y.ReliableScore=1.25;t.a=y},2:function(e,t,n){"use strict";n.d(t,"p",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"q",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"n",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"o",(function(){return g})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return b})),n.d(t,"k",(function(){return w})),n.d(t,"h",(function(){return y})),n.d(t,"m",(function(){return v})),n.d(t,"b",(function(){return S}));var a=n(0),i=n(3);function r(e){return new Promise(t=>setTimeout(t,e))}function s(e){return e?void 0===e.length?e:e&&e.length>0?e[0]:null:e}function o(){return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)).slice(0,8)}function l(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}const u=e=>{let t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)},c=e=>e?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):e,d=e=>e&&"string"==typeof e?e=e.replace(/\\u00A0/g," "):e,h=e=>e&&"string"==typeof e?e=e.replace(" ","\\u00A0"):e,m=e=>decodeURIComponent(atob(e)),p=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol},g=e=>{const t=window.top;if(!t)return;const n=t.document.head.querySelector("[data-hide-command-log-request]");if(e||n)e&&n&&t.document.head.removeChild(n);else{const e=t.document.createElement("style");e.id="showXHRLogs",e.innerHTML=".command-name-request, .command-name-xhr { display: none }",e.setAttribute("data-hide-command-log-request",""),t.document.head.appendChild(e)}},f=e=>{var t;return"INPUT"===e.tagName&&"file"==(null===(t=e.getAttribute("type"))||void 0===t?void 0:t.toLowerCase())},b=e=>{if(!e)return!1;if(e.shadowRoot)return!0;let t=getComputedStyle(e);return 0!==e.offsetWidth&&0!==e.offsetHeight&&"none"!=t.display&&!["hidden","collapse"].includes(t.visibility)},w=(e,t)=>{var n;if(t.shadowRoot)return!1;if(!(null===(n=null===a.a||void 0===a.a?void 0:a.a.options)||void 0===n?void 0:n.isEnabled))return!1;if(!t)return!1;t.scrollIntoView();let i=t.getBoundingClientRect();if(["input","textarea"].includes(t.tagName.toLowerCase())||i.width<15||i.height<5)return!1;let r=Math.min(5,i.width/10),s=Math.min(5,i.height/10),o=[{x:i.left+i.width/2,y:i.top+i.height/2},{x:i.left+r,y:i.top+s},{x:i.left+i.width-r,y:i.top+s},{x:i.left+i.width-r,y:i.top+i.height-s},{x:i.left+r,y:i.top+i.height-s}];function l(e,t){let n=null==t?void 0:t.parentNode;for(;null!=n;){if(n==e)return!0;n=null==n?void 0:n.parentNode}return!1}for(let n=0;n<o.length;n++){let a=e.elementFromPoint(o[n].x,o[n].y);if(a==t||l(t,a)||"IFRAME"==a.tagName)return!1}return!0},y=(e,t)=>{if(!e)return!1;if(void 0===t)return!0;t=v(t);let n=(e=>"INPUT"===e.tagName||"TEXTAREA"===e.tagName)(e)?e.value:Object(i.c)(e);return null==n?void 0:n.includes(t)},v=e=>e.replace(/\s+/g," ").trim(),S=e=>new Promise((t,n)=>{const a=new FileReader;a.onloadend=()=>{if(!a.result||"string"!=typeof a.result)return void t(null);const e=a.result.split(",")[1];t(e)},a.readAsDataURL(e)})},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(19),i=n(1),r=n(0);var s=new class{pushData(e,t,n,a,i){r.a.state.testReport||(r.a.state.testReport=[]);let s={actionContextId:t,originalSelector:e,newSelector:(null==a?void 0:a.primarySelector)||(null==n?void 0:n.selector),autohealData:a,pomAutohealDataId:i};return r.a.state.testReport.push(s),s}},o=n(18),l=n(2),u=n(21),c=n(3),d=n(4),h=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class m{get doc(){return Object(c.d)()}constructor(e,t,n,i){this.elSearchRetryTime=1e3,this.minApplyAutohealTimeout=5e3,this.actionContextId=n,this.mainSelector=e,this.options=t,this.testTitle=i,this.elSelector=new o.a(this.parentSelectors),this.elFinder=new a.a(this.parentSelectors)}get parentSelectors(){return Object(c.b)(this.options)}get isMainSelectorXPath(){return this.elSelector.isXpathSelector(this.mainSelector)}getLogSelector(e){let t="";for(let e of this.parentSelectors)t+=e+" => ";return t+=e,t}isElMainSelOnPage(){return h(this,arguments,void 0,(function*(e=5e3,t){try{return yield this.elSelector.isElOnPage(this.mainSelector,e,t)}catch(e){return i.a.debug("isElMainSelOnPage exception",e),!1}}))}canBeProcessedByCypress(e){return h(this,void 0,void 0,(function*(){if(!e)return i.a.debug("canBeProcessedByCypress - function not defined",!1),!1;if(this.elSelector.isXpathSelector(this.mainSelector)||this.parentSelectors.length)return i.a.debug("canBeProcessedByCypress",!1),!1;let t=yield this.isElMainSelOnPage();return i.a.debug("canBeProcessedByCypress",t),t}))}get currentPomAutohealDataId(){return r.a.state.currentPomAutohealDataId}get isPomElementGetCommand(){return!!this.currentPomAutohealDataId}process(){return h(this,arguments,void 0,(function*(e=6e4,t){var n;try{e=Math.max(e,this.elSearchRetryTime);let a=!1,s=Date.now()+e,o=s-Math.max(e/2,this.elSearchRetryTime+2e3);i.a.log("get",`Searching for element "${this.mainSelector}" ${t?'with text "'+t+'"':""}`);let c=this.applyAutohealTimeout;for(;s>Date.now();)try{let s=o<Date.now()&&r.a.options.allowObscuredElements||(null===(n=this.parentSelectors)||void 0===n?void 0:n.length)>0;if(i.a.debug("get",`Searching for element "${this.mainSelector}" ${t?'with text "'+t+'"':""} ${s?"| Obscured elements allowed.":""}`),yield this.isElMainSelOnPage(c,t)){let t=this.elSelector.getFirstVisibleElement(this.mainSelector,this.parentSelectors);if(!t){i.a.debug("getFirstElement returned null");continue}if(!s&&Object(l.k)(this.doc,t)){yield this.retryObscured(e);continue}i.a.log(this.isMainSelectorXPath?"get-xPath":"get",this.getLogSelector(this.mainSelector),null,this.options);let n=new u.a(t,this.mainSelector);return yield this.generateAutohealDataForElement(t,n),n}c=this.elSearchRetryTime;let h=null;if(this.isPomElementGetCommand?h=yield this.elFinder.findPomElementByAutohealData(this.currentPomAutohealDataId,this.autohealKey):d.a.getTestAutohealDataFileCache(r.a.state.currentTestId)?(i.a.log("get","Element not found. **Applying test autoheal data.**",null,this.options),h=yield this.elFinder.findTestElementByAutohealData(r.a.state.currentTestId,this.autohealKey,this.testTitle,t)):a||i.a.log("autoheal",`Autoheal data for ${r.a.state.currentTestId} not found`),a=!0,!h){i.a.debug("GetElementCommand - NOT FOUND"),yield this.retryNotFound(e);continue}if(o>Date.now()&&Object(l.k)(this.doc,h.element)){yield this.retryObscured(e);continue}if(this.mainSelector==h.selector)return i.a.debug("GetElementCommand - $Autoheal selector is the same as original selector"),new u.a(h.element,h.selector);i.a.log("get-autoheal","Element found: **"+(h.elementSimplePath||h.selector)+"**",h.element,this.options);let m=new u.a(h.element,h.selector);m.isFoundByAutoheal=!0,m.elementSimplePath=h.elementSimplePath;let p=yield this.generateAutohealDataForElement(h.element,h,!0);return m.selector=p.newSelector,i.a.debug("GetElementCommand - RESULT",Object.assign(Object.assign({},m),{element:"removed"})),m}catch(t){i.a.debug("GetElementCommand.process EXCEPTION",t),yield this.retryNotFound(e,"| Exception: "+t.message||!1)}i.a.log("get-autoheal",`Element not found after ${e/1e3}s.`),this.elNotFoundException(this.elFinder.lastError)}finally{r.a.state.currentPomAutohealDataId=null}}))}get autohealKey(){return this.actionContextId||this.mainSelector}getVariableValues(){var e,t,n;return(null===(n=null===(t=null===(e=r.a.state.variables)||void 0===e?void 0:e.used)||void 0===t?void 0:t.map(e=>e.values))||void 0===n?void 0:n.reduce((e,t)=>[...e,...t],[]))||[]}generateAutohealDataForElement(e,t){return h(this,arguments,void 0,(function*(e,t,n=!1){var a,i,o;if(!(null===(a=null===r.a||void 0===r.a?void 0:r.a.options)||void 0===a?void 0:a.isEnabled)||!(null===(o=null===(i=null===r.a||void 0===r.a?void 0:r.a.options)||void 0===i?void 0:i.debug)||void 0===o?void 0:o.isAutohealEnabled))return;if(this.isPomElementGetCommand){let a=yield this.elFinder.getPomElementAutohealData(this.currentPomAutohealDataId,this.autohealKey);if(!n&&a)return;let i=yield d.a.generatePomAutohealDataForElement(e,this.getVariableValues(),r.a.options.selectorsGeneratorOptions);return s.pushData(this.mainSelector,this.actionContextId,t,i,this.currentPomAutohealDataId)}let l=yield this.elFinder.getTestActionAutohealData(r.a.state.currentTestId,this.autohealKey);if(!n&&l)return;let u=yield d.a.generateAutohealDataForElement(e,this.getVariableValues(),r.a.options.selectorsGeneratorOptions);return s.pushData(this.mainSelector,this.actionContextId,t,u)}))}elNotFoundException(e){throw new Error("**Element not found**\n"+(e&&"undefined"!=e.trim()?" "+e:""))}retryNotFound(e,t){return h(this,void 0,void 0,(function*(){i.a.log("get",`**Element not found.** Next try in ${this.elSearchRetryTime/1e3}s. Timout ${e/1e3}s ${t?"\n"+t:""}`),yield Object(l.p)(this.elSearchRetryTime)}))}retryObscured(e){return h(this,void 0,void 0,(function*(){i.a.log("get",`**Element obscured.** Next try in ${this.elSearchRetryTime/1e3}s. Timout ${e/1e3}s`),yield Object(l.p)(this.elSearchRetryTime)}))}get applyAutohealTimeout(){return Math.min(Math.max(this.minApplyAutohealTimeout,r.a.options.getElementTimeout/2),1e4)}}},23:function(e,t,n){"use strict";var a=n(0),i=n(20),r=n(11);const s={"random.number":["min","max"],"random.alpha":["length"]},o=e=>e.replace(/\{{2}|\}{2}|\(.*?\)/g,""),l=e=>{const t=o(e),n=(e=>{const t=e.match(/\{{2}.*?\((?<params>.*)\).*?\}{2}/);return t?t.groups.params.replace(/\s/g,"").split(",").filter(Boolean):[]})(e);if(t in s&&n.length===s[t].length){const e=s[t].reduce((e,t)=>{const a=n.shift();return e[t]=parseInt(a),e},{});return JSON.stringify(e)}return n.join("")};var u=n(15),c=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class d extends r.a{constructor(){super(a.a.apiUrl+"ExternalTestDriver/Variables/"),this.authHeaders={base64AuthKey:()=>a.a.ApiKey}}getFakeData(e){return c(this,void 0,void 0,(function*(){return e=(e=>{let t="{{"+o(e);return l(e).length&&(t+=`(${l(e)})`),t+="}}",t})(e),u.fake(e)}))}}var h=new d,m=n(2),p=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};const g=e=>b(f(e)),f=e=>e.replace(/(\[\d*\]){0,1}/g,""),b=e=>e.replace(/(\(.*\)){0,1}/g,""),w=(e,t)=>Object.values(t).find(t=>t.systemname===g(e)),y=e=>j.usedVariables.find(({systemname:t})=>e===t),v=e=>null,S=(e,t)=>{t.forEach((t,n)=>e.params.options[n].value=t)},E=e=>{var t,n;const a=null===(n=null===(t=e.match(/\{{2}.*?\[(?<index>\d*)\].*?\}{2}/))||void 0===t?void 0:t.groups)||void 0===n?void 0:n.index;if(null!=a&&!isNaN(parseInt(a)))return parseInt(a)},x=e=>p(void 0,[e],void 0,(function*({variableObj:e,input:t,variableIndex:n,actionValue:a,nodeValue:i}){var r;let s=y(e.systemname),o=a,l="";const u=null===(r=null==s?void 0:s.values)||void 0===r?void 0:r[n-1];if(u)l=i.replace(t,u);else{const n=yield e.generate(),r=t.replace(/(\[\d*\])?(\}{2})/,"$2");o=a.replace(new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"g"),r),l=i.replace(r,n)}return{parsedSystemValue:o,parsedNodeValue:l}})),D=e=>p(void 0,[e],void 0,(function*({input:e,actionValue:t,nodeValue:n}){return{parsedSystemValue:t,parsedNodeValue:n.replace(e,null)}})),A=e=>p(void 0,void 0,void 0,(function*(){if(!e.generate)return"";let t;return e.params&&(t=(e=>{if("list"===e.paramType){const t=e.options.filter(e=>e.value||e.defaultValue).map(e=>e.value);return t.length?t:void 0}if("object"===e.paramType){const t=Object.fromEntries(e.options.filter(e=>e.value||e.defaultValue).map(e=>[e.key,e.value]));return Object.values(t).length?t:void 0}return[]})(e.params),t=t?JSON.parse(JSON.stringify(t)):void 0,e.params.options.forEach(e=>e.value="")),e.generate(t)}));var R=(e,t)=>{const n=Object.values(t).map(e=>e.systemname);return(e.match(/\{{2}.*?\}{2}/g)||[]).filter(e=>n.includes(g(e)||v(e)))},T=e=>p(void 0,[e],void 0,(function*({input:e,actionValue:t,nodeValue:n,actionTypeVariables:a}){const i=E(e),r=g(e),s=w(r,a),o=(e=>{var t,n,a;return v(e)?[]:(null===(a=null===(n=null===(t=e.match(/\{{2}.*?\((?<params>.*)\).*?\}{2}/))||void 0===t?void 0:t.groups)||void 0===n?void 0:n.params)||void 0===a?void 0:a.split(","))||[]})(e);return v(r)?D({actionValue:t,input:e,nodeValue:n}):isNaN(parseInt(i))?p(void 0,[{variableObj:s,actionValue:t,input:e,nodeValue:n,variableParams:o}],void 0,(function*({variableObj:e,input:t,actionValue:n,nodeValue:a,variableParams:i}){S(e,i);const r=yield A(e);return{parsedSystemValue:n.replace(t,f(t)),parsedNodeValue:a.replace(t,r)}})):x({variableObj:s,actionValue:t,input:e,nodeValue:n,variableIndex:i||0})}));const O={"{{random.alpha}}":{paramType:"object",options:[{label:"Length",type:"input",key:"count",value:""}]},"{{random.number}}":{paramType:"object",options:[{label:"Min",type:"input",key:"min",value:"",defaultValue:1},{label:"Max",type:"input",key:"max",value:""}]},"{{random.alphaNumeric}}":{paramType:"list",options:[{label:"Length",type:"input",value:""}]}},P=["address","animal","commerce","company","database","datatype","date","finance","git","hacker","helpers","image","internet","lorem","music","name","phone","random","system","time","unique","vehicle"],k=(e,t)=>{Object.entries(u).forEach(([n,a])=>{P.includes(n)&&"object"==typeof a&&Object.entries(a||{}).forEach(([a,i])=>{if("function"==typeof i){const i=`{{${n}.${a}}}`,r=""+Object(m.q)(a);e[i]={systemname:i,displayName:r,reusable:!0,params:O[i],generate:function(...e){return t(Object.assign(Object.assign({},this),{generator:()=>u[n][a](...e)}))}}}})})};var q=n(1),N=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};var j=new class{constructor(){this.processVariable=e=>N(this,[e],void 0,(function*({systemname:e,displayName:t,generator:n,reusable:a}){let i="";const r=this.usedVariables.find(t=>t.systemname===e);if(a||!a&&!r){do{i=yield n()}while(this.isValueAlreadyGenerated(e,i));this.addUsedVariable(e,t,i)}else i=r.values[0];return i}))}get usedVariables(){return a.a.state.variables.used||(a.a.state.variables.used=[]),a.a.state.variables.used}get generatedEmail(){let e=a.a.state.variables.email||this.generateNewEmail();return a.a.state.variables.email=e,e}get generatedAdminEmail(){let e=a.a.state.variables.adminEmail||this.generateNewAdminEmail();return a.a.state.variables.adminEmail=e,e}generateNewEmail(){return`${Object(m.c)().substring(0,16)}@${a.a.emailDomain}`}generateNewAdminEmail(){return`${Object(m.c)().substring(0,16)}@${a.a.adminEmailDomain}`}replaceVariables(e){return N(this,void 0,void 0,(function*(){const t=R(e,this.actionTypeVariables)||[];let n=e;try{q.a.debug("replaceVariables",{input:q.a.maskString(e),inputVariables:t.map(e=>q.a.maskString(e))});for(let e of t){const{parsedSystemValue:t,parsedNodeValue:a}=yield T({input:e,actionValue:n,nodeValue:n,actionTypeVariables:this.actionTypeVariables});n=a}}catch(e){throw new Error("Resolving variables failed. "+(e.responseText?e.responseText:e.statusText))}return n}))}generateRandomString(e){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";return new Array(e+1).join("0").replace(/[0]/g,e=>t[crypto.getRandomValues(new Uint8Array(1))[0]%(t.length-1)]).toString()}addUsedVariable(e,t,n){let a=this.usedVariables.find(t=>t.systemname==e);a?a.values.push(n):this.usedVariables.push({systemname:e,displayName:t,values:[n]})}isValueAlreadyGenerated(e,t){let n=this.usedVariables.find(n=>{var a;return n.systemname==e&&n.values&&(null===(a=n.values)||void 0===a?void 0:a.includes(t))});return null!=n&&n.length>0}get actionTypeVariables(){let e=this,t={shuffle:{systemname:"{{shuffle}}",displayName:"{{shuffle}}",hint:"e.g. x9wj4g",reusable:!1,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>e.generateRandomString(6)}))}},timestamp:{systemname:"{{timestamp}}",displayName:"{{timestamp}}",hint:"1587999131",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>Date.now().toString()}))}},testResultID:{systemname:"{{testResultID}}",displayName:"{{testResultID}}",hint:"e.g. vjr3069wjsmx",reusable:!1,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>e.generateRandomString(12)}))}},generateEmail:{systemname:"{{generate.email}}",displayName:"Email",hint:"{{shuffle}}@"+a.a.emailDomain,reusable:!1,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>e.generatedEmail}))}},generateAdminEmail:{id:"40",systemname:"{{generate.adminEmail}}",displayName:"Admin Email",hint:"{{shuffle}}@"+a.a.emailDomain,reusable:!1,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>e.generatedAdminEmail}))}},firstName:{systemname:"{{name.firstName}}",displayName:"First Name",hint:"e.g. Peter",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>h.getFakeData(this.systemname)}))}},lastName:{systemname:"{{name.lastName}}",displayName:"Last Name",hint:"e.g. Smith",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>h.getFakeData(this.systemname)}))}},phoneNumber:{systemname:"{{phone.phoneNumber}}",displayName:"Phone Number",hint:"e.g. (940) 438-7101",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>h.getFakeData(this.systemname)}))}},companyName:{systemname:"{{company.companyName}}",displayName:"Company Name",hint:"e.g. Random Inc",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>h.getFakeData(this.systemname)}))}},url:{systemname:"{{internet.url}}",displayName:"Web Site",hint:"e.g. mario.com",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>h.getFakeData(this.systemname)}))}},city:{systemname:"{{address.city}}",displayName:"City",hint:"Chicago",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>h.getFakeData(this.systemname)}))}},state:{systemname:"{{address.state}}",displayName:"State",hint:"Illinois",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>h.getFakeData(this.systemname)}))}},stateAbbr:{systemname:"{{address.stateAbbr}}",displayName:"State Abbr",hint:"IL",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>h.getFakeData(this.systemname)}))}},streetAddress:{systemname:"{{address.streetAddress}}",displayName:"Street",hint:"3672 Josh Falls",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>h.getFakeData(this.systemname)}))}},zipCode:{systemname:"{{address.zipCode}}",displayName:"Zip Code",hint:"60000",reusable:!0,generate:function(){return e.processVariable(Object.assign(Object.assign({},this),{generator:()=>h.getFakeData(this.systemname)}))}}};return k(t,this.processVariable),t}},F=n(43),C=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class I extends r.a{constructor(){super(a.a.apiUrl+"ExternalTestDriver/Emails/"),this.authHeaders={base64AuthKey:()=>a.a.ApiKey}}getEmails(e){return C(this,void 0,void 0,(function*(){try{let t=yield this.get("List/"+e);return JSON.parse(t)}catch(e){return[]}}))}getEmail(e){return C(this,void 0,void 0,(function*(){let t=yield this.get(e),n=new F.a;return n.contentHtml=t,n.guid=e,n}))}}var V=new I,L=n(44),M=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};class W{constructor(e){this.doc=e,this.email=j.generatedEmail}process(e){return M(this,arguments,void 0,(function*(e,t=3e4){let n=Date.now()+t,a=null;for(;n>Date.now();){q.a.log("checkEmails",`Checking ${this.email} for received email "${e}"`);let n=yield V.getEmails(this.email);if(a=this.findEmailBySubject(n,e),a)break;yield Object(m.p)(t/6)}if(!a)throw new Error(`Email with subject "${e}" was not found in timeout.`);let i=yield V.getEmail(a.guid);this.openEmailInIframe(i.contentHtml),q.a.log("openEmail",`Open email with subject "${e}"`)}))}findEmailBySubject(e,t){let n=e.map(e=>{var n,a,i;return{email:e,distance:Object(L.distance)(null===(a=null===(n=e.subject)||void 0===n?void 0:n.toLowerCase())||void 0===a?void 0:a.trim(),null===(i=null==t?void 0:t.toLowerCase())||void 0===i?void 0:i.trim())}}),a=Object(m.f)(n.sort((e,t)=>t.distance-e.distance));return!a||a.distance>a.email.subject.length/2?null:a.email}openEmailInIframe(e){let t=e;t=t.replace("'","\\'"),t=t.replace("\n|\t"," "),t=t.replace("[\n\r]+s*",""),t=t.replace("s{2,}"," ");let n=this.doc.createElement("style");n.innerHTML=".email-overlay{display: flex; flex-direction: column; align-items: flex-end; position: fixed; right: 100px; top: 20px; width: 90vw; max-height: 90vh; height: 100%; padding: 10px; background: #fff; border-radius: 5px; box-shadow: 1px 30px 30px -28px rgba(27, 23, 59, 0.2), 0px 9px 34px rgba(27, 23, 59, 0.22);z-index:2147483647}.email-overlay iframe{border: 0; width: 100%; height: 100%;}",this.doc.getElementsByTagName("head")[0].appendChild(n);let a=this.doc.createElement("preflight-main"),i=this.doc.createElement("preflight-email");i.classList.add("data-box-content");let r=this.doc.createElement("iframe");var s,o;r.id="pf-email-iframe",s=r,o=function(e){return e.replace(/<a/g,'<a target="_parent"')}(o=e),"srcdoc"in s?s.setAttribute("srcdoc",o):s.setAttribute("src","javascript: '"+o+"'"),i.classList.add("email-overlay"),a.appendChild(i),i.appendChild(r),this.doc.body.appendChild(a)}}class ${constructor(e){this.doc=e}process(){this.doc.body.removeChild(this.doc.querySelector("preflight-main")),q.a.log("closeEmail")}}var U=n(3),B=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};t.a=new class{initialize(e){a.a.initialize(),a.a.ApiKey||(a.a.ApiKey=e)}get doc(){return Object(U.d)()}findElement(e,t,n,r){return B(this,arguments,void 0,(function*(e,t,n,r,s=a.a.options.getElementTimeout){let o=new i.a(e,n,t,r),l=yield o.process(s);if(!l)throw new Error("Element not found.");return l}))}replaceVariables(e){return B(this,void 0,void 0,(function*(){var t,n,i;if(!(null===(t=null===a.a||void 0===a.a?void 0:a.a.options)||void 0===t?void 0:t.isEnabled)||!(null===(i=null===(n=null===a.a||void 0===a.a?void 0:a.a.options)||void 0===n?void 0:n.debug)||void 0===i?void 0:i.isReplacingVariablesEnabled))return e.replace(/{{/g,"").replace(/}}/g,"");try{return yield j.replaceVariables(e)}catch(t){return q.a.debug("replaceVariables Exception",t),e}}))}openEmail(e,t){return B(this,void 0,void 0,(function*(){let n=new W(e);yield n.process(t)}))}closeEmail(e){new $(e).process()}getStore(){return JSON.stringify({state:a.a.state,apiKey:a.a.ApiKey})}setStore(e){if(!e)return;let t=JSON.parse(e);a.a.state=t.state,a.a.ApiKey=t.apiKey}}},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>Cypress.spec.absolute.split("/").slice(0,-1).join("/")},3:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var a=n(1),i=(n(8),n(2)),r=n(0);var s=n(9);const o=()=>cy.state("window").document,l=()=>cy.state("window")||{},u=(e,t,n=500)=>{a.a.debug("waitForAssertion",{timeout:t,waitBeforeRetries:n});let i=Date.now();return function r(){return e()?(a.a.debug("waitForAssertion: assertionFunction is true"),cy.wrap(!0,{log:!1})):Date.now()-i>t?(a.a.debug("waitForAssertion: timeout"),cy.wrap(!1,{log:!1})):cy.wait(n,{log:!1}).then(r)}()},c=()=>{var e,t,n,i,s;let o=l();return(null===(e=null===r.a||void 0===r.a?void 0:r.a.options)||void 0===e?void 0:e.isEnabled)&&(null===(n=null===(t=null===r.a||void 0===r.a?void 0:r.a.options)||void 0===t?void 0:t.waitForNetworkCalls)||void 0===n?void 0:n.isEnabled)&&2==(null===(s=null===(i=null===r.a||void 0===r.a?void 0:r.a.options)||void 0===i?void 0:i.debug)||void 0===s?void 0:s.waitForNetworkCallsSolution)?o.networkShimInjected?(a.a.debug("injectNetworkShimInNecessary: NetworkShim is injected"),!0):(a.a.debug("injectNetworkShimInNecessary: waitNetworkCalls injecting NetworkShim"),o.isNetworkLogEnabled=r.a.options.debug.isNetworkLogEnabled,o.networkShim_checkSockets=r.a.options.waitForNetworkCalls.checkWebSockets,o.networkShim_requestsAllowListRegex=r.a.options.waitForNetworkCalls.requestsAllowListRegex,o.networkShim_minNetworkIdleTimeThreshold=r.a.options.waitForNetworkCalls.idle,o.eval("\nclass NetworkShim {\n  win = {};\n  excludedUrls = ['preflight-driver', 'stream'];\n  requestTimeoutThreshold = 30000;\n  last30sRequests = [];\n  waitingWebSocketMessages = [];\n  apiEndpoint = 'network';\n  log = false;\n  wsTimeout = 1000;\n  requestsAllowListRegex = null;\n  lastRequestEndedAt = 0;\n  minNetworkIdleTimeThreshold = 2000;\n  constructor(){\n    window.areAllRequestsDone = false;\n    window.openRequestList = [];\n    window.openRequestUrlList = [];\n    window.networkShim = this;\n    window.networkShimInjected = true;\n    this.log = !!window.isNetworkLogEnabled;\n    this.lastRequestEndedAt = 0;\n    this.requestsAllowListRegex = window.networkShim_requestsAllowListRegex;\n    this.minNetworkIdleTimeThreshold = window.networkShim_minNetworkIdleTimeThreshold;\n  }\n\n  checkTimedOutRequests() {\n    let timedOutRequests = window.openRequestList.filter(r =>\n        (r.timeoutAt < (new Date()).getTime())\n        || (!!r && !!r.request && (r.request.readyState == 4 || r.request.readyState == 0))\n    );\n\n    timedOutRequests.forEach((tr) => { networkShim.onRequestEnded(tr, true); });\n    this.last30sRequests = this.last30sRequests.filter(r =>\n      ((r.startedAt + 30000) > (new Date()).getTime())\n    );\n    this.waitingWebSocketMessages = this.waitingWebSocketMessages.filter(r =>\n      ((r.timeoutAt) > (new Date()).getTime())\n    );\n    this.updateRequestStatus();\n  }\n\n  onPageLoaded = () => {\n    window.removeEventListener('load', this.onPageLoaded);\n    this.updateRequestStatus();\n  }\n  \n  xhrOpenShim_networkWatch(xhr, method, url){\n      if(window.networkShim.pushRequest(xhr, method, url)) {\n        if(this.log) console.debug('XMLHttpRequest OPEN ' + method + ' => ' + url, arguments);\n      } \n  }  \n\n  start() {\n    if(window.document.readyState == 'complete'){\n      this.onPageLoaded();\n    } else {\n      window.addEventListener('load', this.onPageLoaded);\n    }\n    setInterval(this.checkTimedOutRequests.bind(this), 2000);\n    //handling older method of sending requests\n    const openedXMLRequest = XMLHttpRequest.prototype.open;\n    let that = this;\n    XMLHttpRequest.prototype.open = function (method, url) {     \n      that.xhrOpenShim_networkWatch(this, ...arguments);\n      openedXMLRequest.apply(this, arguments);\n    }\n    \n    const sendXMLRequest = XMLHttpRequest.prototype.send;\n    XMLHttpRequest.prototype.send = function () {\n      sendXMLRequest.apply(this, arguments);\n    }\n    \n    if(window.WebSocket && window.networkShim_checkSockets) {\n      const nativeWebSocket = window.WebSocket;\n      window.WebSocket = function (...args) {\n        const socket = new nativeWebSocket(...args);\n        const nativeSend = socket.send;\n        socket.send = function(data){\n          window.networkShim.onWebSocketMessageSent(socket, data);\n          //if(this.log) console.debug('WebSocket send: ' + data);\n          return nativeSend.apply(this, [data]);\n        }\n        socket.addEventListener('message', function (event) {\n          window.networkShim.onWebSocketMessageReceived(socket, event.data);\n          //if(this.log) console.debug('WebSocket receive', event.data);\n        });\n        return socket;\n      };\n    }\n\n    //handling newer method of sending requests\n    if (window.fetch) { // IE not support fetch\n      const fetchOriginal = fetch;\n      fetch = (request, props) => {\n        let requestGuid = generateGuid();\n        let method = props ? props.method : null\n        if(window.networkShim.pushFetch(request, method, requestGuid)){\n          if(this.log) console.debug('FETCH => ' + request);\n        }\n        let promise = fetchOriginal(request, props);\n        promise\n          .then((response) => {\n            let rqData = window.openRequestList.find(r => r.guid === requestGuid);\n            //console.debug('FETCH RESPONSE: ', rqData, window.openRequestList);\n            window.networkShim.popRequest(rqData);\n          })\n          .catch((error) => {\n            let rqData = window.openRequestList.find(r => r.guid === requestGuid);\n            window.networkShim.popRequest(rqData);\n          })\n        return promise;\n      }\n    }\n\n    // handling form submits TODO\n  }\n\n  onWebSocketMessageSent(socket, data){\n    this.pushWebSocketMessage('send', data, 4000, socket.url);\n  }\n\n  onWebSocketMessageReceived(socket, data){\n    this.pushWebSocketMessage('receive', data, this.wsTimeout, socket.url);\n  }\n\n  pushFetch(request, method, guid){\n    let url = request;\n    if(request && (typeof request) !== 'string'){\n      url = request.url;\n    }\n    let requestData = {\n      guid: guid,\n      request: null,\n      url,\n      method,\n      startedAt: new Date().getTime(),\n      timeoutAt: new Date().getTime() + 10000\n    }\n    this.last30sRequests.push(requestData);\n    if(this.isUrlExcluded(url)){\n      return false;\n    }\n    this.pushOpenRequests(requestData);\n    return true;\n  }\n\n  pushWebSocketMessage(method, message, timeout = 5000, url = null){\n    if(message.includes('ping') || message.includes('pong')){\n      return;\n    }\n    let data = {\n      guid: generateGuid(),\n      request: null,\n      url: 'WebSocket',\n      method,\n      startedAt: new Date().getTime(),\n      timeoutAt: new Date().getTime() + timeout\n    }\n    this.waitingWebSocketMessages.push(data);\n    this.updateRequestStatus();\n    return true;\n  }\n\n  isUrlExcluded(url) {\n    if(!url || (typeof url) !== 'string'){\n      return false;\n    }\n    if(this.requestsAllowListRegex && this.requestsAllowListRegex.length > 0) {\n        if(!this.requestsAllowListRegex.some(r => url.match(r))){\n            if(this.log) console.debug('URL not allowed by requestsAllowListRegex: ' + url);\n            return true;\n        }\n    } else if(!!this.last30sRequests.filter(r => r.url === url).length >= 3) { // if the request repeats 3 times in last 30s ignore it\n        return true;\n    }\n    return !!this.excludedUrls.find(excludedUrl => url.includes(excludedUrl))\n  }\n\n  pushOpenRequests(requestData){\n    window.openRequestList.push(requestData);\n    //console.debug('PUSH REQUEST: ', requestData);\n    this.updateRequestStatus();\n  }\n  pushRequest(request, method, url){\n    let requestData = {\n      guid: generateGuid(),\n      request,\n      url,\n      method,\n      startedAt: new Date().getTime(),\n      timeoutAt: new Date().getTime() + this.requestTimeoutThreshold\n    }\n    this.last30sRequests.push(requestData);\n    if(this.isUrlExcluded(url)){\n      return false;\n    }\n    this.pushOpenRequests(requestData);\n    request.addEventListener('loadend', function() { window.networkShim.onRequestEnded(requestData) } );\n    request.addEventListener('timeout', function() {\n      window.networkShim.onRequestEnded(requestData, true)\n    });\n    return true;\n  }\n\n  popRequest(requestData){\n    if(!requestData){\n        return;\n    }\n    //console.debug('POP REQUEST: ', requestData);   \n    window.openRequestList = window.openRequestList.filter(rd => rd.guid != requestData.guid);\n    this.updateRequestStatus();    \n    this.lastRequestEndedAt = Date.now();\n  }\n\n  onRequestEnded(requestData, isTimedOut = false){\n    if(isTimedOut){\n      if(this.log) console.debug('TIMED OUT => ' + requestData.url);\n    }    \n    this.popRequest(requestData);\n  }\n\n  isCloudFlareBrowserVerificationIsProcessing(){\n    let cfBrowserVerificationEl = document.querySelector('.cf-browser-verification');\n    let cfImUnderAttackEl = document.querySelector('.cf-im-under-attack');\n    return isElVisible(cfBrowserVerificationEl) || isElVisible(cfImUnderAttackEl)\n  }\n\n  updateAreAllRequestDoneDebounced = debounce((val) => {\n    window.areAllRequestsDone =\n      window.openRequestList.length == 0\n      && this.waitingWebSocketMessages.length == 0\n      && (document.readyState == 'complete' || document.readyState == 'interactive')\n      && this.lastRequestEndedAt < (Date.now() - this.minNetworkIdleTimeThreshold)\n      && !this.isCloudFlareBrowserVerificationIsProcessing()\n    if(this.log) console.debug('isAllRequestDoneDebounced: ' + window.areAllRequestsDone, {rq: window.openRequestList, ws: this.waitingWebSocketMessages});\n    if(window.areAllRequestsDone){\n      if(this.log) console.debug('---------------------  PAGE FINISHED  -----------')\n    } else {\n      if(this.log) console.debug('---------------------  LOADING...  ---------------')\n    }\n  }, 200, 0,5000)\n\n  updateRequestStatus() {\n    // if no request is currently processing we will wait 1s before setting window.isAllRequestsDone to true\n    // but if new request will arrive we want to set window.isAllRequestsDone to false immediately\n    this.updateAreAllRequestDoneDebounced();\n    if((window.openRequestList.length != 0 || this.waitingWebSocketMessages.length != 0) && window.areAllRequestsDone){\n      window.areAllRequestsDone = false;\n      //if(this.log) console.debug('areAllRequestsDone: ' + window.areAllRequestsDone);\n    }\n  }\n}\nfunction debounce(func, wait, minTime = 0, maxTime = Number.MAX_VALUE) {\n  let timeout;\n  let started = Date.now();\n  return function () {\n    if (!timeout) {\n      started = Date.now();\n    }\n    let context = this, args = arguments;\n    let later = function () {\n      if (Date.now() - started < minTime) {\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        return;\n      }\n      timeout = null;\n      func.apply(context, args);\n      started = Date.now();\n    };\n    if (Date.now() - started > maxTime) {\n      func.apply(context, args);\n      started = Date.now();\n    }\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n};\nfunction generateGuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\nfunction isElVisible(el) {\n  if(!el){\n    return false;\n  }\n  let style = getComputedStyle(el);\n  let result = (el.offsetWidth !== 0 && el.offsetHeight !== 0)\n      && style.display != 'none' && !['hidden', 'collapse'].includes(style.visibility);\n  return result;\n}\n\nlet ns = new NetworkShim();\nns.start();\n"),a.a.debug("injectNetworkShimInNecessary: !!win.networkShimInjected: "+!!o.networkShimInjected),!!o.networkShimInjected):(a.a.debug("injectNetworkShimInNecessary: NetworkShim is disabled"),!1)},d=()=>{let e=l();return{areAllRequestsDone:e.areAllRequestsDone,openRequestList:e.openRequestList,openRequestUrlList:e.openRequestUrlList,networkShimInjected:e.networkShimInjected}};const h=e=>{const t=e.cloneNode(!0);t.querySelectorAll(["script","style"].join(",")).forEach(e=>e.remove());let n=t.textContent;var a,r;return m(e,["input","textarea"])&&(n="checkbox"===(r="type",(a=e)?a.getAttribute(r):null)?e.checked?"checked":"unchecked":e.value),m(e,["select"])&&(n=e.options[e.selectedIndex].text),Object(i.m)(n)};function m(e,t){return t.indexOf(e.tagName.toLowerCase())>-1}function p(e,t){a.a.debug("checkTextAssertion",{subject:e,equalTo:t});let n=e?h(e):null;n=Object(i.m)(n),t=Object(i.m)(t);try{expect(n).to.contain(t)}catch(e){throw new s.a(`Text assertion failed. Expected: "${t}", but got: "${n}"`)}}function g(e){return[...[null==e?void 0:e.iframe,...(null==e?void 0:e.iframes)||[]].filter(Boolean),...(null==e?void 0:e.parentSelectors)||[]]}},4:function(e,t,n){"use strict";var a=n(8),i=n(5),r=n(14),s=n(0),o=n(2),l=n(10),u=n(1),c=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))};t.a=new class{constructor(){this.excludedAttributeValueKeywords=["sorted-"]}generateAutohealDataForElement(e,t,n){return c(this,void 0,void 0,(function*(){let a=this.getSelectors(e,t,n),i=this.getSelectorsAsActionData(a),s=yield this.getContextAwarenessActionData(e);s&&i.push(s);let o=yield this.getExpectedInnerTextActionData(e);return o&&i.push(o),new r.a(i)}))}generatePomAutohealDataForElement(e,t,n){return c(this,void 0,void 0,(function*(){let a={parsedData:null,selectors:[],expectedText:null},i=this.getSelectors(e,t,n);a.selectors=[...i.primaryCss,...i.primaryXpath,...i.secondaryCss,...i.secondaryXpath];let r=yield this.getContextAwarenessActionData(e);return r&&(a.parsedData=JSON.parse(r.value)),e.innerText&&(a.expectedText=e.innerText),a}))}getTestAutohealDataFileCache(e){return s.a.state.autohealDataCache.test[e]}getPomAutohealDataFileCache(e){return s.a.state.autohealDataCache.pom[e]}getTestAutohealDataFromLocalFile(e){u.a.debug("getTestAutohealDataFromLocalFile: "+e);let t=`${e}${s.a.localAutohealDataSuffix}`;return cy.readFileIfExists(t,s.a.options.autohealDataFolders)}getPomAutohealDataFromLocalFile(e){u.a.debug("getPomAutohealDataFromLocalFile: "+e);let t=`${e}${s.a.localPomAutohealDataSuffix}`;return cy.readFileIfExists(t,s.a.options.autohealDataFolders)}getDefaultAutohealDataFolderPath(e){return`${Object(o.f)(s.a.options.autohealDataFolders)}/${`${e}${s.a.localAutohealDataSuffix}`}`}getDefaultPomAutohealDataFolderPath(e){return`${Object(o.f)(s.a.options.autohealDataFolders)}/${`${e}${s.a.localPomAutohealDataSuffix}`}`}getActionAutohealByContextId(e,t){var n;if(!e||!e.actions)return null;return null===(n=null==e?void 0:e.actions)||void 0===n?void 0:n.find(e=>Object(o.e)(e.selector)==Object(o.e)(t))}getActionAutohealDataByContextId(e,t){let n=this.getActionAutohealByContextId(e,t);return n?new r.a(n.data):null}getSelectorsAsActionData(e){let t=[];return t.push(...e.primaryXpath.map(t=>({type:i.a.xpathselector,value:t,executionOrder:e.bestSelector==t?0:1})),...e.secondaryXpath.map(t=>({type:i.a.possiblexpathselector,value:t,executionOrder:e.bestSelector==t?0:1})),...e.primaryCss.map(t=>({type:i.a.cssselector,value:t,executionOrder:e.bestSelector==t?0:1})),...e.secondaryCss.map(t=>({type:i.a.possiblecssselector,value:t,executionOrder:e.bestSelector==t?0:1}))),t}getSelectors(e,t,n){let i=new a.SelectorsGenerator(e.ownerDocument,t,Object.assign(Object.assign({},n),{excludedAttributeValueKeywords:[...n.excludedAttributeValueKeywords,...this.excludedAttributeValueKeywords]})),r=[];try{r=i.getBestSelectors(e,20),r.length<3&&(console.warn("Selectors Generator created too little selectors",r),r=[...r,...i.getSelectorsOldWay(e)])}catch(t){console.error("Selectors Generator failed",t),r=i.getSelectorsOldWay(e)}let s=r.filter(e=>e.score>=.7).slice(0,8);s.length<5&&(s=r.slice(0,5));let o=[];if(n){let e=n.includedAttributeTypes||[];if(e.length>0){let t=.1;r.forEach(e=>e.score-=t);for(let n of r){let a=t;for(let i of e)n.value.includes(i)&&(n.score=1-t+a,o.push(n)),a>.01&&(a-=.01)}}}o=o.sort((e,t)=>t.score-e.score);let l=r.filter(e=>!s.includes(e)),u=s.filter(e=>"xpath"==e.type).map(e=>e.valueToShow),c=l.filter(e=>"xpath"==e.type).map(e=>e.valueToShow),d=s.filter(e=>"css"==e.type),h=l.filter(e=>"css"==e.type).map(e=>e.valueToShow);o=o&&o.length>0?o:a.SelectorsGenerator.findBestSelectors(s,1);let m=o&&o.length>0?o[0]:null;return o||(m=i.getBestSelector(e,{})),{primaryXpath:u,secondaryXpath:c,primaryCss:d.map(e=>e.valueToShow),secondaryCss:h,bestSelector:null==m?void 0:m.valueToShow}}getContextAwarenessActionData(e){return c(this,arguments,void 0,(function*(e,t=!0){if(!t)return null;let n=new l.WebPageParser(e.ownerDocument.body,[],!1,!1,e.ownerDocument);console.debug("start parsing");let a=n.getParsedDataForElement(e,!0,!0,!0);return console.debug(a),a?(console.debug("parsing finished"),{type:i.a.contextParserData,value:JSON.stringify({parserVersion:n.parserVersion,target:a.pseudoSelector,data:a.parsedTreeFlat})}):void 0}))}getExpectedInnerTextActionData(e){return c(this,void 0,void 0,(function*(){let t=e.innerText,n=null;return t&&(n={text:t}),{type:i.a.screenshottargetposition,value:JSON.stringify({elementDetails:[{target:n}]})}}))}}},47:function(e,t,n){"use strict";t.a={cypressConfigNamespace:"applitoolsTestGenAI"}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));const a=new Array("offsetHeight","scrollHeight","clientHeight"),i=/text|password|search|tel|url/;let r=document;function s(e=r){r=e;const t=c()||r.body;return l(t,h(t))}function o(e=r.body){return{toPreviousElement:()=>l(e,d(),!0),toNextElement:()=>l(e,h(e)),to:(t,n=!1)=>l(e,t,n)}}function l(e,t,n=!1){if(e.dispatchEvent(u("keydown",n))){if(e.blur(),t.focus(),r.activeElement!==t)try{r.activeElement=t}catch(e){console.warn("could not switch active element")}t.tagName&&i.test(t.type)&&(t.selectionStart=0);const a=u("keyup",n);return t.dispatchEvent(a),!0}return e.dispatchEvent(u("keypress",n)),e.dispatchEvent(u("keyup",n)),!1}function u(e,t=!1){return new KeyboardEvent(e,{code:"Tab",key:"Tab",cancelable:!0,bubbles:!0,shiftKey:t})}function c(){const e=r.activeElement;return e.tagName?e:void 0}function d(e=r.body){const t=m();if(t.length<1)throw new Error("no selectable elements found");const n=t.indexOf(e);return t[(n>0?n:t.length)-1]}function h(e=r.body){const t=m();if(t.length<1)throw new Error("no selectable elements found");const n=t.indexOf(e);return t[n+1<t.length?n+1:0]}function m(){const e=Array.from(r.querySelectorAll("*")).filter(p);f();const t=e.filter(function(...e){return t=>!e.some(e=>!e(t))}(y,g,v,S,E)).reduce((e,t)=>{const n=t.tabIndex,a=e[""+n]||{tabIndex:n,elements:[]};return a.elements.push(t),e[n]=a,e},{});return Object.values(t).sort(x).reduce((e,t)=>e.concat(t.elements),new Array)}!function(e){e.from=o,e.to=(e,t=!1)=>o(c()).to(e,t),e.backwards=()=>e.to(d(c()),!0),e.forwards=()=>e(),e.findSelectableElements=m}(s||(s={}));const p=e=>!!e.tagName;let g,f=()=>{const e=function e(t=r.body){const n=t,i=a.find(e=>{const t=n[e];return t&&"number"==typeof t&&t>0});if(i)return i;const s=t.children;for(const t of Array.from(s)){const n=e(t);if(n)return n}return}();g=e?b(e):w,f=()=>{}};const b=e=>t=>{const n=t[e];return!!n&&"number"==typeof n&&n>0};const w=e=>{if(!e.isConnected)return!1;if("BODY"===e.tagName)return!0;const t=getComputedStyle(e);if("none"===t.display)return!1;if("collapse"===t.visibility)return!1;const n=e.parentElement;return!!n&&w(n)};function y(e){return"number"==typeof e.tabIndex&&e.tabIndex>=0}const v=e=>!e.disabled;function S(e){return!("A"==e.tagName&&!e.href&&null===e.getAttribute("tabIndex"))}const E=e=>"collapse"!==getComputedStyle(e).visibility;function x(e,t){if(e.tabIndex>0&&t.tabIndex>0)return e.tabIndex-t.tabIndex;if(e.tabIndex>0)return-e.tabIndex;if(t.tabIndex>0)return t.tabIndex;throw new Error("same tab index for two groups")}class D{constructor(e,t){this.doc=e,this.element=t}process(){try{this.element.focus(),s(this.doc)}catch(e){}}}},5:function(e,t,n){"use strict";t.a={xpathselector:"xpathselector",possiblexpathselector:"possiblexpathselector",possiblecssselector:"possiblecssselector",cssselector:"cssselector",tocssselector:"tocssselector",toxpathselector:"toxpathselector",screenshoturl:"screenshoturl",emailFrom:"emailfrom",emailAction:"emailaction",emailToOpen:"emailToOpen",checkpointType:"checkpointtype",hierarchydata:"hierarchydata",waitbefore:"waitbefore",repeat:"repeat",clickType:"clicktype",screenshottargetposition:"screenshottargetposition",hover:"hover",position:"position",shadowroot:"shadowroot",inputtype:"inputtype",contextParserData:"contextparserdata",locatorpreference:"locatorpreference",visualdifferencethreshold:"visualdifferencethreshold",parentelementcssselector:"parentelementcssselector",filename:"fileName",scrollTo:"scrollto",pdfAction:"pdfaction",cyCheckOptions:"cyCheckOptions"}},6:function(e,t,n){"use strict";var a=n(3),i=n(1),r=n(2),s=n(0);t.a=new class{constructor(){this.started=!1}globalFixesStop(){var e,t,n;(null===(e=null===s.a||void 0===s.a?void 0:s.a.options)||void 0===e?void 0:e.isEnabled)&&(null===(n=null===(t=null===s.a||void 0===s.a?void 0:s.a.options)||void 0===t?void 0:t.debug)||void 0===n?void 0:n.areWorkaroundsEnabled)&&(i.a.debug("globalFixesStop"),this.started=!1,this.keepWindowParentValidInterval&&clearInterval(this.keepWindowParentValidInterval))}globalFixesStart(){var e,t,n;(null===(e=null===s.a||void 0===s.a?void 0:s.a.options)||void 0===e?void 0:e.isEnabled)&&(null===(n=null===(t=null===s.a||void 0===s.a?void 0:s.a.options)||void 0===t?void 0:t.debug)||void 0===n?void 0:n.areWorkaroundsEnabled)&&(this.started||(i.a.debug("globalFixesStart"),this.started=!0,Cypress.on("window:load",(e,t)=>{this.keepWindowParentValidInterval&&clearInterval(this.keepWindowParentValidInterval),this.keepWindowParentValidInterval=this.keepWindowParentValid_fixJPMScrollYException()})))}elementFixes(e){let t;t=e&&void 0!==e.length?Object(r.f)(e):e,this.setElWindowParentValid_fixJPMScrollYException(t)}setElWindowParentValid_fixJPMScrollYException(e){var t,n;if(!e)return void i.a.debug("setElWindowParentValid_fixJPMScrollYException"," el is null");let a=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;a||i.a.debug("setElWindowParentValid_fixJPMScrollYException",`El window is null. el?.ownerDocument: ${!!(null==e?void 0:e.ownerDocument)} | el?.ownerDocument?.defaultView: ${!!(null===(n=null==e?void 0:e.ownerDocument)||void 0===n?void 0:n.defaultView)}`),this.setWindowParent(a,"element fix")}keepWindowParentValid_fixJPMScrollYException(e=1e3){let t=Object(a.f)(),n=setInterval(()=>{this.setWindowParent(t)},e);return this.setWindowParent(t),n}setWindowParent(e,t=""){if(!e)return void i.a.debug("setWindowParent "+t," win is null");let n=e,a=10;for(;a&&(null==n?void 0:n.parent)&&n!=n.parent;)n=n.parent,a--;n&&!n.parent&&(i.a.debug("setWindowParent "+t,"JPM fix applied"),n.parent=n)}}},7:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.SELECTORS="selectors",e.CONTEXT_AWARENESS="contextAwareness",e.INNER_TEXT="innerText"}(a||(a={}))},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a extends Error{constructor(e){super(e),console.debug("NoStackError - stack:",this.stack),this.stack=null}}}}]);